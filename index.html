<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <titleمستودع الصحة – للمستلزمات الطبية | Health Depot – Medical Supplies</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #00796B;
            --primary-dark: #004D40;
            --primary-light: #B2DFDB;
            --secondary: #FF6B35;
            --accent: #26A69A;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #F44336;
            --bg-light: #F5F7FA;
            --bg-dark: #0D1B2A;
            --card-light: #FFFFFF;
            --card-dark: #1B2838;
            --text-light: #1A1A2E;
            --text-dark: #E8E8E8;
            --border-light: #E0E0E0;
            --border-dark: #2D3E50;
            --gradient-1: linear-gradient(135deg, #00796B 0%, #004D40 100%);
            --gradient-2: linear-gradient(135deg, #26A69A 0%, #00796B 100%);
            --gradient-3: linear-gradient(135deg, #FF6B35 0%, #F44336 100%);
            --shadow-light: 0 10px 40px rgba(0,0,0,0.08);
            --shadow-dark: 0 10px 40px rgba(0,0,0,0.3);
            --radius: 16px;
            --radius-sm: 10px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', 'Poppins', sans-serif;
            background: var(--bg-light);
            color: var(--text-light);
            min-height: 100vh;
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        body.dark {
            background: var(--bg-dark);
            color: var(--text-dark);
        }

        body.en {
            direction: ltr;
            font-family: 'Poppins', 'Cairo', sans-serif;
        }

        /* Header */
        .header {
            background: var(--gradient-1);
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-light);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 30px;
            background: rgba(0,0,0,0.1);
            font-size: 13px;
        }

        .header-top a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
            opacity: 0.9;
            transition: opacity 0.3s;
        }

        .header-top a:hover {
            opacity: 1;
        }

        .header-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary);
        }

        .logo-text h1 {
            font-size: 22px;
            font-weight: 700;
        }

        .logo-text span {
            font-size: 11px;
            opacity: 0.9;
        }

        .search-box {
            flex: 1;
            max-width: 500px;
            margin: 0 40px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 14px 50px 14px 20px;
            border: none;
            border-radius: 50px;
            font-size: 15px;
            font-family: inherit;
            background: rgba(255,255,255,0.95);
            color: var(--text-light);
        }

        body.en .search-box input {
            padding: 14px 20px 14px 50px;
        }

        .search-box button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--gradient-2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            transition: transform 0.3s;
        }

        body.en .search-box button {
            right: auto;
            left: 5px;
        }

        .search-box button:hover {
            transform: translateY(-50%) scale(1.1);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-btn {
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-family: inherit;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .header-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-2px);
        }

        .cart-btn {
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--secondary);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 700;
        }

        body.en .cart-count {
            right: auto;
            left: -8px;
        }

        .lang-toggle, .theme-toggle {
            background: rgba(255,255,255,0.15);
            border: none;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .lang-toggle:hover, .theme-toggle:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.1);
        }

        /* Navigation */
        .nav {
            background: var(--card-light);
            border-bottom: 1px solid var(--border-light);
            padding: 0 30px;
        }

        .dark .nav {
            background: var(--card-dark);
            border-color: var(--border-dark);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .nav-link {
            padding: 15px 0;
            color: inherit;
            text-decoration: none;
            font-weight: 500;
            position: relative;
            transition: color 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--primary);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 3px;
            background: var(--gradient-2);
            transition: width 0.3s;
            border-radius: 3px 3px 0 0;
        }

        body.en .nav-link::after {
            right: auto;
            left: 0;
        }

        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            background: var(--gradient-1);
            padding: 60px 30px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 15s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(10%, 10%); }
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .hero-text h2 {
            font-size: 42px;
            font-weight: 800;
            color: white;
            line-height: 1.3;
            margin-bottom: 20px;
        }

        .hero-text p {
            font-size: 18px;
            color: rgba(255,255,255,0.9);
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .hero-btns {
            display: flex;
            gap: 15px;
        }

        .btn-primary {
            background: white;
            color: var(--primary);
            padding: 15px 35px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            padding: 15px 35px;
            border: 2px solid white;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: white;
            color: var(--primary);
        }

        .hero-visual {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hero-illustration {
            width: 350px;
            height: 350px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .hero-illustration i {
            font-size: 150px;
            color: white;
            opacity: 0.9;
        }

        .floating-badge {
            position: absolute;
            background: white;
            padding: 12px 20px;
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 10px;
            animation: floatBadge 4s ease-in-out infinite;
        }

        .floating-badge:nth-child(2) {
            top: 20px;
            right: 20px;
            animation-delay: -1s;
        }

        .floating-badge:nth-child(3) {
            bottom: 50px;
            left: 0;
            animation-delay: -2s;
        }

        @keyframes floatBadge {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .floating-badge i {
            font-size: 24px;
            color: var(--primary);
        }

        .floating-badge span {
            font-size: 13px;
            color: var(--text-light);
            font-weight: 600;
        }

        /* Categories */
        .categories {
            padding: 50px 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 28px;
            font-weight: 700;
            color: inherit;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title i {
            color: var(--primary);
        }

        .view-all {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: gap 0.3s;
        }

        .view-all:hover {
            gap: 12px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }

        .category-card {
            background: var(--card-light);
            border-radius: var(--radius);
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .dark .category-card {
            background: var(--card-dark);
        }

        .category-card:hover, .category-card.active {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: var(--shadow-light);
        }

        .dark .category-card:hover, .dark .category-card.active {
            box-shadow: var(--shadow-dark);
        }

        .category-icon {
            width: 70px;
            height: 70px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 28px;
            color: var(--primary);
            transition: all 0.3s;
        }

        .category-card:hover .category-icon {
            background: var(--gradient-2);
            color: white;
            transform: scale(1.1);
        }

        .category-card h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .category-card span {
            font-size: 13px;
            opacity: 0.7;
        }

        /* Filters */
        .filters-section {
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .filters-bar {
            background: var(--card-light);
            border-radius: var(--radius);
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            box-shadow: var(--shadow-light);
        }

        .dark .filters-bar {
            background: var(--card-dark);
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-group label {
            font-weight: 500;
            font-size: 14px;
            white-space: nowrap;
        }

        .filter-select {
            padding: 10px 35px 10px 15px;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 14px;
            background: transparent;
            color: inherit;
            cursor: pointer;
            min-width: 150px;
        }

        body.en .filter-select {
            padding: 10px 15px 10px 35px;
        }

        .dark .filter-select {
            border-color: var(--border-dark);
        }

        .price-range {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .price-input {
            width: 100px;
            padding: 10px;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 14px;
            background: transparent;
            color: inherit;
        }

        .dark .price-input {
            border-color: var(--border-dark);
        }

        .filter-btn {
            background: var(--gradient-2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            margin-right: auto;
        }

        body.en .filter-btn {
            margin-right: 0;
            margin-left: auto;
        }

        .filter-btn:hover {
            transform: scale(1.05);
        }

        /* Products Grid */
        .products-section {
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .product-card {
            background: var(--card-light);
            border-radius: var(--radius);
            overflow: hidden;
            transition: all 0.3s;
            position: relative;
        }

        .dark .product-card {
            background: var(--card-dark);
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-light);
        }

        .dark .product-card:hover {
            box-shadow: var(--shadow-dark);
        }

        .product-badges {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 10;
        }

        body.en .product-badges {
            right: auto;
            left: 15px;
        }

        .badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
        }

        .badge-sale {
            background: var(--danger);
            color: white;
        }

        .badge-new {
            background: var(--success);
            color: white;
        }

        .badge-hot {
            background: var(--secondary);
            color: white;
        }

        .product-image {
            height: 220px;
            background: linear-gradient(135deg, #E8F5E9 0%, #B2DFDB 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .product-image i {
            font-size: 80px;
            color: var(--primary);
            opacity: 0.6;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-actions {
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            transition: bottom 0.3s;
        }

        .product-card:hover .product-actions {
            bottom: 15px;
        }

        .action-btn {
            width: 42px;
            height: 42px;
            background: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--text-light);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            transition: all 0.3s;
        }

        .action-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.15);
        }

        .product-info {
            padding: 20px;
        }

        .product-category {
            font-size: 12px;
            color: var(--primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .product-name {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 12px;
        }

        .stars {
            color: #FFC107;
            font-size: 13px;
        }

        .rating-count {
            font-size: 12px;
            opacity: 0.7;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .current-price {
            font-size: 22px;
            font-weight: 800;
            color: var(--primary);
        }

        .old-price {
            font-size: 15px;
            color: #999;
            text-decoration: line-through;
        }

        .buy-btn {
            width: 100%;
            background: var(--gradient-2);
            color: white;
            border: none;
            padding: 14px;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .buy-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(0,121,107,0.4);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--card-light);
            border-radius: var(--radius);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease;
        }

        .dark .modal {
            background: var(--card-dark);
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 25px;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark .modal-header {
            border-color: var(--border-dark);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-title i {
            color: var(--primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: inherit;
            opacity: 0.6;
            transition: opacity 0.3s;
        }

        .modal-close:hover {
            opacity: 1;
        }

        .modal-body {
            padding: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 15px;
            background: transparent;
            color: inherit;
            transition: border-color 0.3s;
        }

        .dark .form-input {
            border-color: var(--border-dark);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-input::placeholder {
            opacity: 0.5;
        }

        .form-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .form-tab {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--border-light);
            background: transparent;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            color: inherit;
            transition: all 0.3s;
        }

        .dark .form-tab {
            border-color: var(--border-dark);
        }

        .form-tab.active {
            background: var(--gradient-2);
            color: white;
            border-color: transparent;
        }

        .form-submit {
            width: 100%;
            background: var(--gradient-2);
            color: white;
            border: none;
            padding: 16px;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .form-submit:hover {
            transform: scale(1.02);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            left: -420px;
            width: 400px;
            max-width: 100%;
            height: 100vh;
            background: var(--card-light);
            z-index: 2001;
            transition: left 0.3s;
            display: flex;
            flex-direction: column;
        }

        body.en .cart-sidebar {
            left: auto;
            right: -420px;
            transition: right 0.3s;
        }

        .cart-sidebar.active {
            left: 0;
        }

        body.en .cart-sidebar.active {
            left: auto;
            right: 0;
        }

        .dark .cart-sidebar {
            background: var(--card-dark);
        }

        .cart-header {
            padding: 25px;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark .cart-header {
            border-color: var(--border-dark);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            background: var(--bg-light);
            border-radius: var(--radius-sm);
            margin-bottom: 15px;
        }

        .dark .cart-item {
            background: var(--bg-dark);
        }

        .cart-item-image {
            width: 70px;
            height: 70px;
            background: var(--primary-light);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .cart-item-image i {
            font-size: 28px;
            color: var(--primary);
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--radius-sm);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 10px;
        }

        .cart-item-qty {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .qty-btn {
            width: 28px;
            height: 28px;
            background: var(--card-light);
            border: 1px solid var(--border-light);
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: inherit;
        }

        .dark .qty-btn {
            background: var(--card-dark);
            border-color: var(--border-dark);
        }

        .cart-item-remove {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
        }

        .cart-footer {
            padding: 25px;
            border-top: 1px solid var(--border-light);
        }

        .dark .cart-footer {
            border-color: var(--border-dark);
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .cart-total span:last-child {
            color: var(--primary);
            font-size: 24px;
        }

        .checkout-btn {
            width: 100%;
            background: var(--gradient-2);
            color: white;
            border: none;
            padding: 16px;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .checkout-btn:hover {
            transform: scale(1.02);
        }

        .cart-empty {
            text-align: center;
            padding: 50px 20px;
        }

        .cart-empty i {
            font-size: 60px;
            color: var(--primary-light);
            margin-bottom: 20px;
        }

        /* Payment Modal */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .payment-method {
            border: 2px solid var(--border-light);
            border-radius: var(--radius-sm);
            padding: 20px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .dark .payment-method {
            border-color: var(--border-dark);
        }

        .payment-method:hover, .payment-method.active {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .dark .payment-method:hover, .dark .payment-method.active {
            background: rgba(0,121,107,0.2);
        }

        .payment-method i {
            font-size: 30px;
            color: var(--primary);
            margin-bottom: 10px;
            display: block;
        }

        .payment-method img {
            height: 30px;
            margin-bottom: 10px;
        }

        .payment-method span {
            display: block;
            font-weight: 600;
            font-size: 13px;
        }

        .installment-info {
            background: var(--primary-light);
            padding: 15px;
            border-radius: var(--radius-sm);
            margin-top: 20px;
            display: none;
        }

        .dark .installment-info {
            background: rgba(0,121,107,0.2);
        }

        .installment-info.active {
            display: block;
        }

        .installment-info p {
            font-size: 14px;
            line-height: 1.6;
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-light);
            border-radius: var(--radius);
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .dark .stat-card {
            background: var(--card-dark);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            background: var(--primary-light);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary);
        }

        .stat-info h4 {
            font-size: 24px;
            font-weight: 800;
        }

        .stat-info span {
            font-size: 13px;
            opacity: 0.7;
        }

        .admin-sections {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        .admin-form-card {
            background: var(--card-light);
            border-radius: var(--radius);
            padding: 25px;
        }

        .dark .admin-form-card {
            background: var(--card-dark);
        }

        .admin-form-card h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-form-card h3 i {
            color: var(--primary);
        }

        .image-upload {
            border: 2px dashed var(--border-light);
            border-radius: var(--radius-sm);
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.3s;
            margin-bottom: 20px;
        }

        .dark .image-upload {
            border-color: var(--border-dark);
        }

        .image-upload:hover {
            border-color: var(--primary);
        }

        .image-upload i {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .image-upload p {
            font-size: 14px;
            opacity: 0.7;
        }

        .image-preview {
            width: 100%;
            height: 150px;
            object-fit: contain;
            border-radius: var(--radius-sm);
            display: none;
        }

        .admin-products {
            background: var(--card-light);
            border-radius: var(--radius);
            padding: 25px;
        }

        .dark .admin-products {
            background: var(--card-dark);
        }

        .admin-products h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-products h3 i {
            color: var(--primary);
        }

        .products-table {
            width: 100%;
            border-collapse: collapse;
        }

        .products-table th,
        .products-table td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--border-light);
        }

        body.en .products-table th,
        body.en .products-table td {
            text-align: left;
        }

        .dark .products-table th,
        .dark .products-table td {
            border-color: var(--border-dark);
        }

        .products-table th {
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.7;
        }

        .table-product {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .table-product-img {
            width: 50px;
            height: 50px;
            background: var(--primary-light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .table-product-img i {
            font-size: 20px;
            color: var(--primary);
        }

        .table-product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        .table-actions {
            display: flex;
            gap: 8px;
        }

        .table-btn {
            width: 35px;
            height: 35px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: transform 0.3s;
        }

        .table-btn:hover {
            transform: scale(1.1);
        }

        .table-btn.edit {
            background: var(--primary-light);
            color: var(--primary);
        }

        .table-btn.delete {
            background: #FFEBEE;
            color: var(--danger);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        body.en .toast-container {
            left: auto;
            right: 30px;
        }

        .toast {
            background: var(--card-light);
            padding: 15px 25px;
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 12px;
            animation: toastSlide 0.3s ease;
            min-width: 280px;
        }

        .dark .toast {
            background: var(--card-dark);
            box-shadow: var(--shadow-dark);
        }

        @keyframes toastSlide {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        body.en .toast {
            animation-name: toastSlideEn;
        }

        @keyframes toastSlideEn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .toast.success i { color: var(--success); }
        .toast.error i { color: var(--danger); }
        .toast.warning i { color: var(--warning); }

        .toast i {
            font-size: 20px;
        }

        .toast span {
            font-weight: 500;
        }

        /* Confirmation Modal */
        .confirm-modal {
            text-align: center;
        }

        .confirm-modal .modal-body {
            padding: 40px 25px;
        }

        .confirm-icon {
            width: 80px;
            height: 80px;
            background: #FFF3E0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .confirm-icon i {
            font-size: 36px;
            color: var(--warning);
        }

        .confirm-modal h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .confirm-modal p {
            opacity: 0.7;
            margin-bottom: 25px;
        }

        .confirm-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .confirm-btn {
            padding: 12px 30px;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: transform 0.3s;
        }

        .confirm-btn:hover {
            transform: scale(1.05);
        }

        .confirm-btn.cancel {
            background: var(--bg-light);
            color: inherit;
        }

        .dark .confirm-btn.cancel {
            background: var(--bg-dark);
        }

        .confirm-btn.confirm {
            background: var(--danger);
            color: white;
        }

        /* Success Modal */
        .success-modal .modal-body {
            text-align: center;
            padding: 40px 25px;
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: #E8F5E9;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            animation: successPop 0.5s ease;
        }

        @keyframes successPop {
            0% { transform: scale(0); }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-icon i {
            font-size: 50px;
            color: var(--success);
        }

        .success-modal h3 {
            font-size: 24px;
            margin-bottom: 15px;
        }

        .success-modal p {
            opacity: 0.7;
            line-height: 1.6;
        }

        .order-number {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
        }

        /* Footer */
        .footer {
            background: var(--primary-dark);
            color: white;
            padding: 60px 30px 30px;
            margin-top: 50px;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }

        .footer-section h4 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-section h4::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 50px;
            height: 3px;
            background: var(--secondary);
            border-radius: 3px;
        }

        body.en .footer-section h4::after {
            right: auto;
            left: 0;
        }

        .footer-section p {
            opacity: 0.8;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            opacity: 1;
            padding-right: 10px;
        }

        body.en .footer-links a:hover {
            padding-right: 0;
            padding-left: 10px;
        }

        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .footer-social a {
            width: 45px;
            height: 45px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            transition: all 0.3s;
        }

        .footer-social a:hover {
            background: var(--secondary);
            transform: translateY(-5px);
        }

        .footer-bottom {
            max-width: 1400px;
            margin: 40px auto 0;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .payment-icons {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .payment-icons span {
            background: white;
            padding: 8px 15px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 12px;
            color: var(--primary-dark);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-visual {
                display: none;
            }

            .admin-sections {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-top {
                display: none;
            }

            .header-main {
                flex-wrap: wrap;
                gap: 15px;
                padding: 15px;
            }

            .search-box {
                order: 3;
                margin: 0;
                max-width: 100%;
                width: 100%;
            }

            .nav-container {
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .nav-link {
                white-space: nowrap;
            }

            .hero {
                padding: 40px 20px;
            }

            .hero-text h2 {
                font-size: 28px;
            }

            .hero-btns {
                flex-direction: column;
            }

            .categories, .filters-section, .products-section, .admin-panel {
                padding: 20px;
            }

            .filters-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-group {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-select, .price-input {
                width: 100%;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }

            .cart-sidebar {
                width: 100%;
            }

            .payment-methods {
                grid-template-columns: 1fr;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }

            .products-table {
                font-size: 13px;
            }

            .products-table th:nth-child(3),
            .products-table td:nth-child(3) {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .header-actions {
                gap: 8px;
            }

            .header-btn span {
                display: none;
            }

            .section-title {
                font-size: 22px;
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .category-card {
                padding: 20px 15px;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .dark .loading-overlay {
            background: rgba(13,27,42,0.9);
        }

        .loading-overlay.active {
            display: flex;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid var(--primary-light);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-top">
           <div>
    <a href="tel:+966538106873">
        <i class="fas fa-phone-alt"></i>
        <span data-ar="+966538106873" data-en="+966538106873">+966538106873</span>
    </a>

    <a href="mailto:Engabobakrh@gmail.com">
        <i class="fas fa-envelope"></i>
        info@healthdepot.com
    </a>
</div>

            <div>
                <a href="#"><span data-ar="تتبع الطلب" data-en="Track Order">تتبع الطلب</span></a>
                <a href="#"><span data-ar="الأسئلة الشائعة" data-en="FAQ">الأسئلة الشائعة</span></a>
            </div>
        </div>
        <div class="header-main">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-pills"></i>
                </div>
                <div class="logo-text">
                    <h1 data-ar="مستودع الصحة – للمستلزمات الطبية" data-en="Health Depot – Medical Supplies"مستودع الصحة – للمستلزمات الطبية</h1>
                    <span data-ar="صحتك أولويتنا" data-en="Your Health, Our Priority">صحتك أولويتنا</span>
                </div>
            </div>
            <div class="search-box">
                <input type="text" id="searchInput" data-placeholder-ar="ابحث عن منتج..." data-placeholder-en="Search products..." placeholder="ابحث عن منتج...">
                <button onclick="searchProducts()"><i class="fas fa-search"></i></button>
            </div>
            <div class="header-actions">
                <button class="header-btn" onclick="openAuthModal()">
                    <i class="fas fa-user"></i>
                    <span data-ar="تسجيل الدخول" data-en="Login">تسجيل الدخول</span>
                </button>
                <button class="header-btn cart-btn" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span data-ar="السلة" data-en="Cart">السلة</span>
                    <div class="cart-count" id="cartCount">0</div>
                </button>
                <button class="lang-toggle" onclick="toggleLanguage()">
                    <span id="langText">EN</span>
                </button>
                <button class="theme-toggle" onclick="toggleTheme()">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="#" class="nav-link active" onclick="showSection('home')" data-ar="الرئيسية" data-en="Home">الرئيسية</a>
            <a href="#" class="nav-link" onclick="showSection('products')" data-ar="المنتجات" data-en="Products">المنتجات</a>
            <a href="#" class="nav-link" data-ar="العروض" data-en="Offers">العروض</a>
            <a href="#" class="nav-link" data-ar="الوصفات الطبية" data-en="Prescriptions">الوصفات الطبية</a>
            <a href="#" class="nav-link" data-ar="تواصل معنا" data-en="Contact">تواصل معنا</a>
            <a href="#" class="nav-link" onclick="showSection('admin')" data-ar="لوحة التحكم" data-en="Admin Panel">لوحة التحكم</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="heroSection">
        <div class="hero-content">
            <div class="hero-text">
                <h2 data-ar="منتجات طبية عالية الجودة لصحة أفضل" data-en="High-Quality Medical Products for Better Health">منتجات طبية عالية الجودة لصحة أفضل</h2>
                <p data-ar="نوفر لك أفضل المنتجات الطبية والصيدلانية المعتمدة من هيئة الغذاء والدواء، مع خيارات دفع متعددة تشمل تقسيط تمارا وتابي" data-en="We provide you with the best medical and pharmaceutical products approved by SFDA, with multiple payment options including Tamara and Tabby installments">نوفر لك أفضل المنتجات الطبية والصيدلانية المعتمدة من هيئة الغذاء والدواء، مع خيارات دفع متعددة تشمل تقسيط تمارا وتابي</p>
                <div class="hero-btns">
                    <button class="btn-primary" onclick="showSection('products')">
                        <i class="fas fa-shopping-bag"></i>
                        <span data-ar="تسوق الآن" data-en="Shop Now">تسوق الآن</span>
                    </button>
                    <button class="btn-secondary">
                        <span data-ar="تصفح العروض" data-en="View Offers">تصفح العروض</span>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-illustration">
                    <i class="fas fa-heartbeat"></i>
                    <div class="floating-badge">
                        <i class="fas fa-shipping-fast"></i>
                        <span data-ar="توصيل سريع" data-en="Fast Delivery">توصيل سريع</span>
                    </div>
                    <div class="floating-badge">
                        <i class="fas fa-shield-alt"></i>
                        <span data-ar="منتجات أصلية" data-en="Authentic Products">منتجات أصلية</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories" id="categoriesSection">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-th-large"></i>
                <span data-ar="تصفح حسب الفئة" data-en="Browse by Category">تصفح حسب الفئة</span>
            </h2>
            <a href="#" class="view-all">
                <span data-ar="عرض الكل" data-en="View All">عرض الكل</span>
                <i class="fas fa-arrow-left"></i>
            </a>
        </div>
        <div class="categories-grid" id="categoriesGrid">
            <!-- Categories will be rendered here -->
        </div>
    </section>

    <!-- Filters -->
    <section class="filters-section" id="filtersSection">
        <div class="filters-bar">
            <div class="filter-group">
                <label data-ar="الفئة:" data-en="Category:">الفئة:</label>
                <select class="filter-select" id="categoryFilter" onchange="filterProducts()">
                    <option value="" data-ar="جميع الفئات" data-en="All Categories">جميع الفئات</option>
                </select>
            </div>
            <div class="filter-group">
                <label data-ar="الترتيب:" data-en="Sort:">الترتيب:</label>
                <select class="filter-select" id="sortFilter" onchange="filterProducts()">
                    <option value="newest" data-ar="الأحدث" data-en="Newest">الأحدث</option>
                    <option value="price-low" data-ar="السعر: من الأقل للأعلى" data-en="Price: Low to High">السعر: من الأقل للأعلى</option>
                    <option value="price-high" data-ar="السعر: من الأعلى للأقل" data-en="Price: High to Low">السعر: من الأعلى للأقل</option>
                    <option value="name" data-ar="الاسم" data-en="Name">الاسم</option>
                </select>
            </div>
            <div class="filter-group">
                <label data-ar="السعر:" data-en="Price:">السعر:</label>
                <div class="price-range">
                    <input type="number" class="price-input" id="minPrice" placeholder="0" data-placeholder-ar="من" data-placeholder-en="Min">
                    <span>-</span>
                    <input type="number" class="price-input" id="maxPrice" placeholder="1000" data-placeholder-ar="إلى" data-placeholder-en="Max">
                </div>
            </div>
            <button class="filter-btn" onclick="filterProducts()">
                <i class="fas fa-filter"></i>
                <span data-ar="تطبيق الفلتر" data-en="Apply Filter">تطبيق الفلتر</span>
            </button>
        </div>
    </section>

    <!-- Products -->
    <section class="products-section" id="productsSection">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-box-open"></i>
                <span data-ar="منتجاتنا" data-en="Our Products">منتجاتنا</span>
            </h2>
        </div>
        <div class="products-grid" id="productsGrid">
            <!-- Products will be rendered here -->
        </div>
    </section>

    <!-- Admin Panel -->
    <section class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2 class="section-title">
                <i class="fas fa-cog"></i>
                <span data-ar="لوحة التحكم" data-en="Admin Panel">لوحة التحكم</span>
            </h2>
        </div>

        <div class="admin-stats">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-box"></i></div>
                <div class="stat-info">
                    <h4 id="totalProducts">0</h4>
                    <span data-ar="إجمالي المنتجات" data-en="Total Products">إجمالي المنتجات</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-shopping-cart"></i></div>
                <div class="stat-info">
                    <h4 id="totalOrders">24</h4>
                    <span data-ar="الطلبات" data-en="Orders">الطلبات</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-users"></i></div>
                <div class="stat-info">
                    <h4 id="totalUsers">158</h4>
                    <span data-ar="المستخدمين" data-en="Users">المستخدمين</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                <div class="stat-info">
                    <h4>12,450 <small>SAR</small></h4>
                    <span data-ar="إجمالي المبيعات" data-en="Total Sales">إجمالي المبيعات</span>
                </div>
            </div>
        </div>

        <div class="admin-sections">
            <div class="admin-form-card">
                <h3>
                    <i class="fas fa-plus-circle"></i>
                    <span data-ar="إضافة منتج جديد" data-en="Add New Product">إضافة منتج جديد</span>
                </h3>
                <div class="image-upload" onclick="document.getElementById('productImage').click()">
                    <input type="file" id="productImage" accept="image/*" style="display:none" onchange="previewImage(event)">
                    <img id="imagePreview" class="image-preview">
                    <i class="fas fa-cloud-upload-alt" id="uploadIcon"></i>
                    <p id="uploadText" data-ar="اضغط لرفع صورة المنتج" data-en="Click to upload product image">اضغط لرفع صورة المنتج</p>
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="اسم المنتج (عربي)" data-en="Product Name (Arabic)">اسم المنتج (عربي)</label>
                    <input type="text" class="form-input" id="productNameAr" data-placeholder-ar="أدخل اسم المنتج بالعربية" data-placeholder-en="Enter product name in Arabic" placeholder="أدخل اسم المنتج بالعربية">
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="اسم المنتج (إنجليزي)" data-en="Product Name (English)">اسم المنتج (إنجليزي)</label>
                    <input type="text" class="form-input" id="productNameEn" data-placeholder-ar="أدخل اسم المنتج بالإنجليزية" data-placeholder-en="Enter product name in English" placeholder="أدخل اسم المنتج بالإنجليزية">
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="الفئة" data-en="Category">الفئة</label>
                    <select class="form-input" id="productCategory">
                        <option value="medicines" data-ar="أدوية" data-en="Medicines">أدوية</option>
                        <option value="vitamins" data-ar="فيتامينات" data-en="Vitamins">فيتامينات</option>
                        <option value="skincare" data-ar="العناية بالبشرة" data-en="Skincare">العناية بالبشرة</option>
                        <option value="baby" data-ar="منتجات الأطفال" data-en="Baby Products">منتجات الأطفال</option>
                        <option value="devices" data-ar="أجهزة طبية" data-en="Medical Devices">أجهزة طبية</option>
                        <option value="personal" data-ar="العناية الشخصية" data-en="Personal Care">العناية الشخصية</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="السعر (ريال)" data-en="Price (SAR)">السعر (ريال)</label>
                    <input type="number" class="form-input" id="productPrice" data-placeholder-ar="0.00" data-placeholder-en="0.00" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="السعر القديم (اختياري)" data-en="Old Price (Optional)">السعر القديم (اختياري)</label>
                    <input type="number" class="form-input" id="productOldPrice" data-placeholder-ar="0.00" data-placeholder-en="0.00" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="الوصف (عربي)" data-en="Description (Arabic)">الوصف (عربي)</label>
                    <textarea class="form-input" id="productDescAr" rows="3" data-placeholder-ar="أدخل وصف المنتج بالعربية" data-placeholder-en="Enter product description in Arabic" placeholder="أدخل وصف المنتج بالعربية"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="الوصف (إنجليزي)" data-en="Description (English)">الوصف (إنجليزي)</label>
                    <textarea class="form-input" id="productDescEn" rows="3" data-placeholder-ar="أدخل وصف المنتج بالإنجليزية" data-placeholder-en="Enter product description in English" placeholder="أدخل وصف المنتج بالإنجليزية"></textarea>
                </div>
                <button class="form-submit" onclick="addProduct()">
                    <i class="fas fa-plus"></i>
                    <span data-ar="إضافة المنتج" data-en="Add Product">إضافة المنتج</span>
                </button>
            </div>

            <div class="admin-products">
                <h3>
                    <i class="fas fa-list"></i>
                    <span data-ar="المنتجات المضافة" data-en="Added Products">المنتجات المضافة</span>
                </h3>
                <table class="products-table">
                    <thead>
                        <tr>
                            <th data-ar="المنتج" data-en="Product">المنتج</th>
                            <th data-ar="الفئة" data-en="Category">الفئة</th>
                            <th data-ar="السعر" data-en="Price">السعر</th>
                            <th data-ar="إجراءات" data-en="Actions">إجراءات</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- Products will be rendered here -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="footerSection">
        <div class="footer-content">
            <div class="footer-section">
                <h4 data-ar="مستودع الصحة – للمستلزمات الطبية" data-en="Health Depot – Medical Supplies"مستودع الصحة – للمستلزمات الطبية</h4>
                <p data-ar="نحن صيدلية معتمدة من هيئة الغذاء والدواء السعودية، نقدم منتجات طبية أصلية مع خدمة توصيل سريعة في جميع أنحاء المملكة." data-en="We are a SFDA-approved pharmacy, providing authentic medical products with fast delivery service throughout the Kingdom.">نحن صيدلية معتمدة من هيئة الغذاء والدواء السعودية، نقدم منتجات طبية أصلية مع خدمة توصيل سريعة في جميع أنحاء المملكة.</p>
                <div class="footer-social">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h4 data-ar="روابط سريعة" data-en="Quick Links">روابط سريعة</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="الرئيسية" data-en="Home">الرئيسية</span></a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="المنتجات" data-en="Products">المنتجات</span></a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="العروض" data-en="Offers">العروض</span></a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="تواصل معنا" data-en="Contact">تواصل معنا</span></a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4 data-ar="خدمة العملاء" data-en="Customer Service">خدمة العملاء</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="تتبع الطلب" data-en="Track Order">تتبع الطلب</span></a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="سياسة الإرجاع" data-en="Return Policy">سياسة الإرجاع</span></a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="الأسئلة الشائعة" data-en="FAQ">الأسئلة الشائعة</span></a></li>
                    <li><a href="#"><i class="fas fa-chevron-left"></i> <span data-ar="الشروط والأحكام" data-en="Terms & Conditions">الشروط والأحكام</span></a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4 data-ar="تواصل معنا" data-en="Contact Us">تواصل معنا</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-map-marker-alt"></i> <span data-ar="الرياض، المملكة العربية السعودية" data-en="Riyadh, Saudi Arabia">الرياض، المملكة العربية السعودية</span></a></li>
                    <li><a href="#"><i class="fas fa-phone"></i> +966538106873</a></li>
                    <li><a href="#"><i class="fas fa-envelope"></i>info@healthdepot.com</a></li>
                    <li><a href="#"><i class="fas fa-clock"></i> <span data-ar="24/7 خدمة العملاء" data-en="24/7 Customer Service">24/7 خدمة العملاء</span></a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p data-ar="© 2024 مستودع الصحة – للمستلزمات الطبية. جميع الحقوق محفوظة" data-en="© 2024 Health Depot – Medical Supplies. All Rights Reserved">© 2024 مستودع الصحة – للمستلزمات الطبية. جميع الحقوق محفوظة</p>
            <div class="payment-icons">
                <span>MADA</span>
                <span>VISA</span>
                <span>Mastercard</span>
                <span>تمارا</span>
                <span>تابي</span>
            </div>
        </div>
    </footer>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3 class="modal-title">
                <i class="fas fa-shopping-cart"></i>
                <span data-ar="سلة التسوق" data-en="Shopping Cart">سلة التسوق</span>
            </h3>
            <button class="modal-close" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be rendered here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span data-ar="الإجمالي:" data-en="Total:">الإجمالي:</span>
                <span id="cartTotal">0 SAR</span>
            </div>
            <button class="checkout-btn" onclick="proceedToCheckout()">
                <i class="fas fa-credit-card"></i>
                <span data-ar="إتمام الشراء" data-en="Proceed to Checkout">إتمام الشراء</span>
            </button>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-user-circle"></i>
                    <span data-ar="تسجيل الدخول" data-en="Login">تسجيل الدخول</span>
                </h3>
                <button class="modal-close" onclick="closeModal('authModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-tabs">
                    <button class="form-tab active" onclick="switchAuthTab('phone')" data-ar="رقم الجوال" data-en="Phone">رقم الجوال</button>
                    <button class="form-tab" onclick="switchAuthTab('email')" data-ar="البريد الإلكتروني" data-en="Email">البريد الإلكتروني</button>
                </div>
                <div id="phoneAuth">
                    <div class="form-group">
                        <label class="form-label" data-ar="رقم الجوال" data-en="Phone Number">رقم الجوال</label>
                        <input type="tel" class="form-input" id="phoneInput" data-placeholder-ar="05xxxxxxxx" data-placeholder-en="05xxxxxxxx" placeholder="05xxxxxxxx">
                    </div>
                </div>
                <div id="emailAuth" style="display:none">
                    <div class="form-group">
                        <label class="form-label" data-ar="البريد الإلكتروني" data-en="Email">البريد الإلكتروني</label>
                        <input type="email" class="form-input" id="emailInput" data-placeholder-ar="example@email.com" data-placeholder-en="example@email.com" placeholder="example@email.com">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" data-ar="كلمة المرور" data-en="Password">كلمة المرور</label>
                    <input type="password" class="form-input" id="passwordInput" data-placeholder-ar="أدخل كلمة المرور" data-placeholder-en="Enter password" placeholder="أدخل كلمة المرور">
                </div>
                <button class="form-submit" onclick="login()">
                    <span data-ar="تسجيل الدخول" data-en="Login">تسجيل الدخول</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal-overlay" id="paymentModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-credit-card"></i>
                    <span data-ar="اختر طريقة الدفع" data-en="Choose Payment Method">اختر طريقة الدفع</span>
                </h3>
                <button class="modal-close" onclick="closeModal('paymentModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="payment-methods">
                    <div class="payment-method active" onclick="selectPayment('mada')">
                        <i class="fas fa-credit-card"></i>
                        <span>مدى / Mada</span>
                    </div>
                    <div class="payment-method" onclick="selectPayment('visa')">
                        <i class="fab fa-cc-visa"></i>
                        <span>Visa / Mastercard</span>
                    </div>
                    <div class="payment-method" onclick="selectPayment('tamara')">
                        <i class="fas fa-calendar-alt"></i>
                        <span data-ar="تمارا - قسّمها 4" data-en="Tamara - Split in 4">تمارا - قسّمها 4</span>
                    </div>
                    <div class="payment-method" onclick="selectPayment('tabby')">
                        <i class="fas fa-calendar-check"></i>
                        <span data-ar="تابي - ادفع لاحقاً" data-en="Tabby - Pay Later">تابي - ادفع لاحقاً</span>
                    </div>
                    <div class="payment-method" onclick="selectPayment('stcpay')">
                        <i class="fas fa-mobile-alt"></i>
                        <span>STC Pay</span>
                    </div>
                    <div class="payment-method" onclick="selectPayment('applepay')">
                        <i class="fab fa-apple-pay"></i>
                        <span>Apple Pay</span>
                    </div>
                </div>
                <div class="installment-info" id="tamaraInfo">
                    <p data-ar="✨ قسّم مشترياتك على 4 دفعات بدون فوائد أو رسوم إضافية مع تمارا. الدفعة الأولى عند الشراء والباقي على 3 أشهر." data-en="✨ Split your purchase into 4 interest-free payments with Tamara. First payment at checkout, the rest over 3 months.">✨ قسّم مشترياتك على 4 دفعات بدون فوائد أو رسوم إضافية مع تمارا. الدفعة الأولى عند الشراء والباقي على 3 أشهر.</p>
                </div>
                <div class="installment-info" id="tabbyInfo">
                    <p data-ar="🛒 اشترِ الآن وادفع لاحقاً مع تابي. قسّط على 4 دفعات شهرية بدون فوائد." data-en="🛒 Buy now, pay later with Tabby. Split into 4 monthly interest-free payments.">🛒 اشترِ الآن وادفع لاحقاً مع تابي. قسّط على 4 دفعات شهرية بدون فوائد.</p>
                </div>
                <button class="form-submit" onclick="processPayment()">
                    <i class="fas fa-lock"></i>
                    <span data-ar="تأكيد الدفع" data-en="Confirm Payment">تأكيد الدفع</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Confirm Delete Modal -->
    <div class="modal-overlay" id="confirmModal">
        <div class="modal confirm-modal">
            <div class="modal-body">
                <div class="confirm-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 data-ar="هل أنت متأكد؟" data-en="Are you sure?">هل أنت متأكد؟</h3>
                <p data-ar="سيتم حذف هذا المنتج نهائياً ولا يمكن استعادته." data-en="This product will be permanently deleted and cannot be recovered.">سيتم حذف هذا المنتج نهائياً ولا يمكن استعادته.</p>
                <div class="confirm-actions">
                    <button class="confirm-btn cancel" onclick="closeModal('confirmModal')" data-ar="إلغاء" data-en="Cancel">إلغاء</button>
                    <button class="confirm-btn confirm" onclick="confirmDelete()" data-ar="حذف" data-en="Delete">حذف</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay" id="successModal">
        <div class="modal success-modal">
            <div class="modal-body">
                <div class="success-icon">
                    <i class="fas fa-check"></i>
                </div>
                <h3 data-ar="ت�� الطلب بنجاح!" data-en="Order Placed Successfully!">تم الطلب بنجاح!</h3>
                <p data-ar="شكراً لك! تم استلام طلبك وسيتم التواصل معك قريباً." data-en="Thank you! Your order has been received and we will contact you soon.">شكراً لك! تم استلام طلبك وسيتم التواصل معك قريباً.</p>
                <div class="order-number" id="orderNumber">#12345</div>
                <button class="form-submit" onclick="closeModal('successModal')">
                    <span data-ar="حسناً" data-en="OK">حسناً</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script>
        // State Management
        let state = {
            language: 'ar',
            theme: 'light',
            cart: [],
            products: [],
            categories: [
                { id: 'medicines', nameAr: 'أدوية', nameEn: 'Medicines', icon: 'fa-pills', count: 0 },
                { id: 'vitamins', nameAr: 'فيتامينات', nameEn: 'Vitamins', icon: 'fa-capsules', count: 0 },
                { id: 'skincare', nameAr: 'العناية بالبشرة', nameEn: 'Skincare', icon: 'fa-pump-soap', count: 0 },
                { id: 'baby', nameAr: 'منتجات الأطفال', nameEn: 'Baby Products', icon: 'fa-baby', count: 0 },
                { id: 'devices', nameAr: 'أجهزة طبية', nameEn: 'Medical Devices', icon: 'fa-heartbeat', count: 0 },
                { id: 'personal', nameAr: 'العناية الشخصية', nameEn: 'Personal Care', icon: 'fa-spa', count: 0 }
            ],
            selectedCategory: '',
            currentUser: null,
            deleteProductId: null,
            selectedPayment: 'mada'
        };

        // Sample Products
        const sampleProducts = [
            { id: 1, nameAr: 'باراسيتامول 500mg', nameEn: 'Paracetamol 500mg', category: 'medicines', price: 15, oldPrice: 20, descAr: 'مسكن للألم وخافض للحرارة', descEn: 'Pain reliever and fever reducer', badge: 'sale', rating: 4.5, reviews: 128 },
            { id: 2, nameAr: 'فيتامين سي 1000mg', nameEn: 'Vitamin C 1000mg', category: 'vitamins', price: 45, oldPrice: null, descAr: 'لتقوية المناعة', descEn: 'For immune system support', badge: 'new', rating: 4.8, reviews: 256 },
            { id: 3, nameAr: 'كريم مرطب للبشرة', nameEn: 'Moisturizing Cream', category: 'skincare', price: 89, oldPrice: 120, descAr: 'ترطيب عميق للبشرة الجافة', descEn: 'Deep moisturizing for dry skin', badge: 'hot', rating: 4.3, reviews: 89 },
            { id: 4, nameAr: 'حليب الأطفال', nameEn: 'Baby Formula', category: 'baby', price: 125, oldPrice: null, descAr: 'تركيبة غذائية متكاملة', descEn: 'Complete nutritional formula', badge: null, rating: 4.7, reviews: 312 },
            { id: 5, nameAr: 'جهاز قياس الضغط', nameEn: 'Blood Pressure Monitor', category: 'devices', price: 199, oldPrice: 250, descAr: 'جهاز رقمي دقيق', descEn: 'Accurate digital device', badge: 'sale', rating: 4.6, reviews: 178 },
            { id: 6, nameAr: 'أوميجا 3', nameEn: 'Omega 3', category: 'vitamins', price: 65, oldPrice: null, descAr: 'لصحة القلب والدماغ', descEn: 'For heart and brain health', badge: 'new', rating: 4.4, reviews: 145 },
            { id: 7, nameAr: 'واقي شمسي SPF50', nameEn: 'Sunscreen SPF50', category: 'skincare', price: 75, oldPrice: 95, descAr: 'حماية فائقة من الشمس', descEn: 'Superior sun protection', badge: null, rating: 4.5, reviews: 203 },
            { id: 8, nameAr: 'شامبو طبي', nameEn: 'Medical Shampoo', category: 'personal', price: 55, oldPrice: null, descAr: 'للعناية بفروة الرأس', descEn: 'For scalp care', badge: null, rating: 4.2, reviews: 67 }
        ];

        // Initialize
        function init() {
            state.products = [...sampleProducts];
            updateCategoryCounts();
            renderCategories();
            renderProducts();
            renderAdminTable();
            updateCartUI();
            initTheme();
            initLanguage();
        }

        // Theme Management
        function initTheme() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark');
                state.theme = 'dark';
                document.getElementById('themeIcon').className = 'fas fa-sun';
            }
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    document.body.classList.add('dark');
                    state.theme = 'dark';
                    document.getElementById('themeIcon').className = 'fas fa-sun';
                } else {
                    document.body.classList.remove('dark');
                    state.theme = 'light';
                    document.getElementById('themeIcon').className = 'fas fa-moon';
                }
            });
        }

        function toggleTheme() {
            document.body.classList.toggle('dark');
            state.theme = state.theme === 'light' ? 'dark' : 'light';
            document.getElementById('themeIcon').className = state.theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        }

        // Language Management
        function initLanguage() {
            updateLanguageTexts();
        }

        function toggleLanguage() {
            state.language = state.language === 'ar' ? 'en' : 'ar';
            document.documentElement.lang = state.language;
            document.documentElement.dir = state.language === 'ar' ? 'rtl' : 'ltr';
            document.body.classList.toggle('en', state.language === 'en');
            document.getElementById('langText').textContent = state.language === 'ar' ? 'EN' : 'عربي';
            updateLanguageTexts();
            renderCategories();
            renderProducts();
            renderAdminTable();
            renderCart();
        }

        function updateLanguageTexts() {
            document.querySelectorAll('[data-ar][data-en]').forEach(el => {
                el.textContent = el.getAttribute(`data-${state.language}`);
            });
            document.querySelectorAll('[data-placeholder-ar][data-placeholder-en]').forEach(el => {
                el.placeholder = el.getAttribute(`data-placeholder-${state.language}`);
            });
        }

        function t(ar, en) {
            return state.language === 'ar' ? ar : en;
        }

        // Categories
        function updateCategoryCounts() {
            state.categories.forEach(cat => {
                cat.count = state.products.filter(p => p.category === cat.id).length;
            });
        }

        function renderCategories() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = state.categories.map(cat => `
                <div class="category-card ${state.selectedCategory === cat.id ? 'active' : ''}" onclick="selectCategory('${cat.id}')">
                    <div class="category-icon">
                        <i class="fas ${cat.icon}"></i>
                    </div>
                    <h3>${state.language === 'ar' ? cat.nameAr : cat.nameEn}</h3>
                    <span>${cat.count} ${t('منتج', 'products')}</span>
                </div>
            `).join('');

            // Update filter select
            const filter = document.getElementById('categoryFilter');
            filter.innerHTML = `<option value="">${t('جميع الفئات', 'All Categories')}</option>` +
                state.categories.map(cat => `
                    <option value="${cat.id}">${state.language === 'ar' ? cat.nameAr : cat.nameEn}</option>
                `).join('');
        }

        function selectCategory(catId) {
            state.selectedCategory = state.selectedCategory === catId ? '' : catId;
            document.getElementById('categoryFilter').value = state.selectedCategory;
            renderCategories();
            filterProducts();
        }

        // Products
        function renderProducts(products = null) {
            const grid = document.getElementById('productsGrid');
            const displayProducts = products || state.products;

            grid.innerHTML = displayProducts.map(product => `
                <div class="product-card">
                    <div class="product-badges">
                        ${product.badge === 'sale' ? `<span class="badge badge-sale">${t('خصم', 'SALE')}</span>` : ''}
                        ${product.badge === 'new' ? `<span class="badge badge-new">${t('جديد', 'NEW')}</span>` : ''}
                        ${product.badge === 'hot' ? `<span class="badge badge-hot">${t('الأكثر مبيعاً', 'HOT')}</span>` : ''}
                    </div>
                    <div class="product-image">
                        ${product.image ? `<img src="${product.image}" alt="${state.language === 'ar' ? product.nameAr : product.nameEn}">` : `<i class="fas fa-${getCategoryIcon(product.category)}"></i>`}
                        <div class="product-actions">
                            <button class="action-btn" onclick="addToWishlist(${product.id})"><i class="fas fa-heart"></i></button>
                            <button class="action-btn" onclick="quickView(${product.id})"><i class="fas fa-eye"></i></button>
                            <button class="action-btn" onclick="shareProduct(${product.id})"><i class="fas fa-share-alt"></i></button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${getCategoryName(product.category)}</div>
                        <h3 class="product-name">${state.language === 'ar' ? product.nameAr : product.nameEn}</h3>
                        <div class="product-rating">
                            <div class="stars">${renderStars(product.rating || 4)}</div>
                            <span class="rating-count">(${product.reviews || 0})</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">${product.price} SAR</span>
                            ${product.oldPrice ? `<span class="old-price">${product.oldPrice} SAR</span>` : ''}
                        </div>
                        <button class="buy-btn" onclick="buyNow(${product.id})">
                            <i class="fas fa-shopping-cart"></i>
                            ${t('اشتر الآن', 'Buy Now')}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function getCategoryIcon(catId) {
            const cat = state.categories.find(c => c.id === catId);
            return cat ? cat.icon.replace('fa-', '') : 'box';
        }

        function getCategoryName(catId) {
            const cat = state.categories.find(c => c.id === catId);
            return cat ? (state.language === 'ar' ? cat.nameAr : cat.nameEn) : catId;
        }

        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) stars += '<i class="fas fa-star"></i>';
                else if (i - 0.5 <= rating) stars += '<i class="fas fa-star-half-alt"></i>';
                else stars += '<i class="far fa-star"></i>';
            }
            return stars;
        }

        function filterProducts() {
            let filtered = [...state.products];

            const category = document.getElementById('categoryFilter').value;
            const sort = document.getElementById('sortFilter').value;
            const minPrice = parseFloat(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseFloat(document.getElementById('maxPrice').value) || Infinity;
            const search = document.getElementById('searchInput').value.toLowerCase();

            if (category) {
                filtered = filtered.filter(p => p.category === category);
            }

            filtered = filtered.filter(p => p.price >= minPrice && p.price <= maxPrice);

            if (search) {
                filtered = filtered.filter(p =>
                    p.nameAr.toLowerCase().includes(search) ||
                    p.nameEn.toLowerCase().includes(search)
                );
            }

            switch (sort) {
                case 'price-low':
                    filtered.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filtered.sort((a, b) => b.price - a.price);
                    break;
                case 'name':
                    filtered.sort((a, b) => {
                        const nameA = state.language === 'ar' ? a.nameAr : a.nameEn;
                        const nameB = state.language === 'ar' ? b.nameAr : b.nameEn;
                        return nameA.localeCompare(nameB);
                    });
                    break;
            }

            renderProducts(filtered);
        }

        function searchProducts() {
            filterProducts();
        }

        // Cart
        function buyNow(productId) {
            if (!state.currentUser) {
                openAuthModal();
                return;
            }
            addToCart(productId);
        }

        function addToCart(productId) {
            const product = state.products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = state.cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                state.cart.push({ ...product, quantity: 1 });
            }

            updateCartUI();
            showToast(t('تمت الإضافة إلى السلة', 'Added to cart'), 'success');
        }

        function removeFromCart(productId) {
            state.cart = state.cart.filter(item => item.id !== productId);
            updateCartUI();
        }

        function updateQuantity(productId, delta) {
            const item = state.cart.find(i => i.id === productId);
            if (!item) return;

            item.quantity += delta;
            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCartUI();
            }
        }

        function updateCartUI() {
            document.getElementById('cartCount').textContent = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            renderCart();
        }

        function renderCart() {
            const container = document.getElementById('cartItems');
            const total = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            if (state.cart.length === 0) {
                container.innerHTML = `
                    <div class="cart-empty">
                        <i class="fas fa-shopping-cart"></i>
                        <h4>${t('السلة فارغة', 'Cart is empty')}</h4>
                        <p>${t('أضف منتجات للبدء', 'Add products to get started')}</p>
                    </div>
                `;
            } else {
                container.innerHTML = state.cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            ${item.image ? `<img src="${item.image}" alt="">` : `<i class="fas fa-${getCategoryIcon(item.category)}"></i>`}
                        </div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">${state.language === 'ar' ? item.nameAr : item.nameEn}</div>
                            <div class="cart-item-price">${item.price} SAR</div>
                            <div class="cart-item-qty">
                                <button class="qty-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                                <span>${item.quantity}</span>
                                <button class="qty-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            </div>
                        </div>
                        <button class="cart-item-remove" onclick="removeFromCart(${item.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `).join('');
            }

            document.getElementById('cartTotal').textContent = `${total} SAR`;
        }

        function toggleCart() {
            document.getElementById('cartSidebar').classList.toggle('active');
        }

        function proceedToCheckout() {
            if (state.cart.length === 0) {
                showToast(t('السلة فارغة', 'Cart is empty'), 'warning');
                return;
            }
            if (!state.currentUser) {
                openAuthModal();
                return;
            }
            toggleCart();
            openModal('paymentModal');
        }

        // Payment
        function selectPayment(method) {
            state.selectedPayment = method;
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');

            document.getElementById('tamaraInfo').classList.toggle('active', method === 'tamara');
            document.getElementById('tabbyInfo').classList.toggle('active', method === 'tabby');
        }

        function processPayment() {
            showLoading(true);

            // Simulate payment processing
            setTimeout(() => {
                showLoading(false);
                closeModal('paymentModal');

                const orderNum = '#' + Math.floor(100000 + Math.random() * 900000);
                document.getElementById('orderNumber').textContent = orderNum;

                state.cart = [];
                updateCartUI();

                openModal('successModal');
            }, 2000);
        }

        // Auth
        function openAuthModal() {
            openModal('authModal');
        }

        function switchAuthTab(tab) {
            document.querySelectorAll('.form-tab').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');
            document.getElementById('phoneAuth').style.display = tab === 'phone' ? 'block' : 'none';
            document.getElementById('emailAuth').style.display = tab === 'email' ? 'block' : 'none';
        }

        function login() {
            const phone = document.getElementById('phoneInput').value;
            const email = document.getElementById('emailInput').value;
            const password = document.getElementById('passwordInput').value;

            if ((!phone && !email) || !password) {
                showToast(t('يرجى ملء جميع الحقول', 'Please fill all fields'), 'error');
                return;
            }

            showLoading(true);

            setTimeout(() => {
                showLoading(false);
                state.currentUser = { phone, email };
                closeModal('authModal');
                showToast(t('تم تسجيل الدخول بنجاح', 'Logged in successfully'), 'success');

                document.querySelector('.header-btn').innerHTML = `
                    <i class="fas fa-user-check"></i>
                    <span>${t('مرحباً', 'Hello')}</span>
                `;
            }, 1000);
        }

        // Admin
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('imagePreview');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    document.getElementById('uploadIcon').style.display = 'none';
                    document.getElementById('uploadText').style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        }

        function addProduct() {
            const nameAr = document.getElementById('productNameAr').value;
            const nameEn = document.getElementById('productNameEn').value;
            const category = document.getElementById('productCategory').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const oldPrice = parseFloat(document.getElementById('productOldPrice').value) || null;
            const descAr = document.getElementById('productDescAr').value;
            const descEn = document.getElementById('productDescEn').value;
            const imagePreview = document.getElementById('imagePreview');

            if (!nameAr || !nameEn || !price) {
                showToast(t('يرجى ملء الحقول المطلوبة', 'Please fill required fields'), 'error');
                return;
            }

            const newProduct = {
                id: Date.now(),
                nameAr,
                nameEn,
                category,
                price,
                oldPrice,
                descAr,
                descEn,
                image: imagePreview.style.display === 'block' ? imagePreview.src : null,
                badge: oldPrice ? 'sale' : null,
                rating: 4.5,
                reviews: 0
            };

            state.products.unshift(newProduct);
            updateCategoryCounts();
            renderCategories();
            renderProducts();
            renderAdminTable();

            // Reset form
            document.getElementById('productNameAr').value = '';
            document.getElementById('productNameEn').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productOldPrice').value = '';
            document.getElementById('productDescAr').value = '';
            document.getElementById('productDescEn').value = '';
            imagePreview.style.display = 'none';
            imagePreview.src = '';
            document.getElementById('uploadIcon').style.display = 'block';
            document.getElementById('uploadText').style.display = 'block';
            document.getElementById('productImage').value = '';

            showToast(t('تم إضافة المنتج بنجاح', 'Product added successfully'), 'success');
            document.getElementById('totalProducts').textContent = state.products.length;
        }

        function renderAdminTable() {
            const tbody = document.getElementById('productsTableBody');
            tbody.innerHTML = state.products.map(product => `
                <tr>
                    <td>
                        <div class="table-product">
                            <div class="table-product-img">
                                ${product.image ? `<img src="${product.image}" alt="">` : `<i class="fas fa-${getCategoryIcon(product.category)}"></i>`}
                            </div>
                            <span>${state.language === 'ar' ? product.nameAr : product.nameEn}</span>
                        </div>
                    </td>
                    <td>${getCategoryName(product.category)}</td>
                    <td>${product.price} SAR</td>
                    <td>
                        <div class="table-actions">
                            <button class="table-btn edit" onclick="editProduct(${product.id})"><i class="fas fa-edit"></i></button>
                            <button class="table-btn delete" onclick="deleteProduct(${product.id})"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                </tr>
            `).join('');

            document.getElementById('totalProducts').textContent = state.products.length;
        }

        function editProduct(productId) {
            const product = state.products.find(p => p.id === productId);
            if (!product) return;

            document.getElementById('productNameAr').value = product.nameAr;
            document.getElementById('productNameEn').value = product.nameEn;
            document.getElementById('productCategory').value = product.category;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productOldPrice').value = product.oldPrice || '';
            document.getElementById('productDescAr').value = product.descAr || '';
            document.getElementById('productDescEn').value = product.descEn || '';

            if (product.image) {
                const preview = document.getElementById('imagePreview');
                preview.src = product.image;
                preview.style.display = 'block';
                document.getElementById('uploadIcon').style.display = 'none';
                document.getElementById('uploadText').style.display = 'none';
            }

            // Remove product after loading to form (will be re-added on save)
            state.products = state.products.filter(p => p.id !== productId);
            renderAdminTable();

            showToast(t('تم تحميل بيانات المنتج للتعديل', 'Product data loaded for editing'), 'success');
        }

        function deleteProduct(productId) {
            state.deleteProductId = productId;
            openModal('confirmModal');
        }

        function confirmDelete() {
            if (state.deleteProductId) {
                state.products = state.products.filter(p => p.id !== state.deleteProductId);
                updateCategoryCounts();
                renderCategories();
                renderProducts();
                renderAdminTable();
                state.deleteProductId = null;
                closeModal('confirmModal');
                showToast(t('تم حذف المنتج', 'Product deleted'), 'success');
            }
        }

        // Sections
        function showSection(section) {
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            event.currentTarget.classList.add('active');

            const heroSection = document.getElementById('heroSection');
            const adminPanel = document.getElementById('adminPanel');
            const categoriesSection = document.getElementById('categoriesSection');
            const filtersSection = document.getElementById('filtersSection');
            const productsSection = document.getElementById('productsSection');

            if (section === 'admin') {
                heroSection.style.display = 'none';
                adminPanel.classList.add('active');
                categoriesSection.style.display = 'none';
                filtersSection.style.display = 'none';
                productsSection.style.display = 'none';
            } else if (section === 'products') {
                heroSection.style.display = 'none';
                adminPanel.classList.remove('active');
                categoriesSection.style.display = 'block';
                filtersSection.style.display = 'block';
                productsSection.style.display = 'block';
            } else {
                heroSection.style.display = 'block';
                adminPanel.classList.remove('active');
                categoriesSection.style.display = 'block';
                filtersSection.style.display = 'block';
                productsSection.style.display = 'block';
            }
        }

        // Modals
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Toast
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;

            const icons = { success: 'check-circle', error: 'times-circle', warning: 'exclamation-circle' };
            toast.innerHTML = `<i class="fas fa-${icons[type]}"></i><span>${message}</span>`;

            container.appendChild(toast);

            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Loading
        function showLoading(show) {
            document.getElementById('loadingOverlay').classList.toggle('active', show);
        }

        // Product actions
        function addToWishlist(productId) {
            showToast(t('تمت الإضافة للمفضلة', 'Added to wishlist'), 'success');
        }

        function quickView(productId) {
            const product = state.products.find(p => p.id === productId);
            if (product) {
                showToast(`${state.language === 'ar' ? product.nameAr : product.nameEn}`, 'success');
            }
        }

        function shareProduct(productId) {
            showToast(t('تم نسخ رابط المنتج', 'Product link copied'), 'success');
        }

        // Close modals on overlay click
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Initialize app
        init();
    </script>
</body>
</html>
